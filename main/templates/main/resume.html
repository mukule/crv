<!-- resume.html -->
{% extends 'main/base.html' %}
{% load static %}

{% block content %}
<div class="content">
    {% if resume %}
    

        <div class="row justify-content-center">
            <div class="col-lg-12 col-md-8">
                <div class="card">
                    <div class="card-body p-0">
                        <div class="position-relative">
                            <img src="{% static 'main/images/banner.png' %}" alt="Image description" class="img-fluid" style="border-radius: 10px;">
                            <div class="image-overlay d-flex justify-content-center align-items-center d-none d-md-flex">
                                <div class="image-text">
                                    <h5>Hello {{ resume.user.get_full_name }} ?, You have a great Resume</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<div class="card" style="padding: 50px;">
<h2>Personal Information</h2>
<p>Name: {{ resume.user.get_full_name }}</p>
<p>Email: {{ resume.user.email }}</p>
<p>Phone: {{ resume.user.phone }}</p>
<hr>
<h2>Academic Details</h2>
{% if academic_details %}
<table>
    <tr>
        <th>Institution</th>
        <th>Admission Number</th>
        <th>Academic Level</th>
        <th>Area of Study</th>
        <th>Specialization</th>
        <th>Examining Body</th>
        <th>Start Year</th>
        <th>End Year</th>
        <th>Graduation Year</th>
        <th>Is Studying</th>
    </tr>
    {% for academic_detail in academic_details %}
        <tr>
            <td>{{ academic_detail.institution_name }}</td>
            <td>{{ academic_detail.admission_number }}</td>
            <td>{{ academic_detail.academic_level }}</td>
            <td>{{ academic_detail.area_of_study }}</td>
            <td>{{ academic_detail.specialization }}</td>
            <td>{{ academic_detail.examining_body }}</td>
            <td>{{ academic_detail.start_year|date:"Y" }}</td>
            <td>{{ academic_detail.end_year|date:"Y" }}</td>
            <td>{{ academic_detail.graduation_year|date:"Y" }}</td>
            <td>{{ academic_detail.is_studying }}</td>
        </tr>
    {% endfor %}
</table>
{% else %}
<p>No academic details found for the user.</p>
{% endif %}
<hr>

<h2>Relevant Courses</h2>
{% if relevant_courses %}
<table>
    <tr>
        <th>Course Name</th>
        <th>Institution</th>
        <th>Certification</th>
        <th>Start Year</th>
        <th>Completion Year</th>
    </tr>
    {% for course in relevant_courses %}
        <tr>
            <td>{{ course.course_name }}</td>
            <td>{{ course.institution }}</td>
            <td>{{ course.certification }}</td>
            <td>{{ course.start_date|date:"Y" }}</td>
            <td>{{ course.completion_date|date:"Y" }}</td>
        </tr>
    {% endfor %}
</table>
{% else %}
<p>No relevant courses found for the user.</p>
{% endif %}
<hr>
<h2>Employment History</h2>
{% if employment_histories %}
    <table>
        <tr>
            <th>Company</th>
            <th>Position</th>
            <th>Position Description</th>
            <th>Start Date</th>
            <th>End Date</th>
        </tr>
        {% for history in employment_histories %}
            <tr>
                <td>{{ history.company_name }}</td>
                <td>{{ history.position }}</td>
                <td>{{ history.position_description }}</td>
                <td>{{ history.start_date|date:"Y" }}</td>
                <td>{{ history.end_date|date:"Y" }}</td>
            </tr>
        {% endfor %}
    </table>
{% else %}
    <p>No employment history found for the user.</p>
{% endif %}
<hr>
<h2>Referees</h2>
{% if referees %}
    <table>
        <tr>
            <th>Name</th>
            <th>Occupation</th>
            <th>Organization</th>
            <th>Relationship Period</th>
            <th>Email</th>
            <th>Phone</th>
        </tr>
        {% for referee in referees %}
            <tr>
                <td>{{ referee.name }}</td>
                <td>{{ referee.occupation }}</td>
                <td>{{ referee.organization }}</td>
                <td>{{ referee.relationship_period }}</td>
                <td>{{ referee.email }}</td>
                <td>{{ referee.phone }}</td>
            </tr>
        {% endfor %}
    </table>
{% else %}
    <p>No referees found for the user.</p>
{% endif %}


{% endif %}
</div>
</div>
{% endblock %}
